<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Perfil de Usuario</title>
    <link rel="stylesheet" href="/resources/css/edit_perfil_user.css">
</head>
<body class="<%= ageGroup %>">
    <div class="container">
        <header id="header">
            <div class="header-container">
                <div class="header-content">
                    <div class="logo-container">
                        <img class="logo" src="/resources/assets/img/Learn Space Logo 2.jpg" alt="Logo" width="60" height="60">
                        <a href="/home" class="brand-name">Learn Space</a>
                    </div>
                    <div class="search-container">
                        <input type="search" class="search-input" placeholder="Buscar cursos...">
                        <span class="search-icon">
                            <img src="/resources/assets/img/busqueda.webp" alt="">
                        </span>
                    </div>
                    <div class="header-buttons">
                        <button class="btn" onclick="window.location.href='/carrito';">
                            <img src="/resources/assets/img/Carrito de Compras.webp" alt="carrito" width="20" height="20">
                        </button>
                        <button class="btn" onclick="window.location.href='/planes';">Planes</button>
                        <div class="profile-menu">
                            <button class="btn" id="profileButton">
                                <p class="user_name"><%= user.name %></p>
                            </button>
                            <div class="profile-dropdown" id="profileDropdown">
                                <button onclick="window.location.href='/editar-perfil';">Ver Perfil</button>
                                <button onclick="window.location.href='/becas';">Becas</button>
                                <button>Contáctanos</button>
                                <button>Cerrar Sesión</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="main-container">
            <h1>Editar Perfil</h1>
            <p class="description">Actualiza tu información personal y profesional</p>
            <div class="profile-container">
                <div class="profile-left">
                    <div class="avatar-container">
                        <button class="btn" id="profileButton">
                            <p class="user_name"><%= user.name %></p>
                        </button>
                        <div class="avatar-upload">
                            <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                            <button type="button" onclick="document.getElementById('avatar-upload').click()">Cambiar foto</button>
                        </div>
                    </div>
                    <div class="password-section">
                        <h3>Cambiar Contraseña</h3>
                        <input type="password" id="newPassword" placeholder="Nueva Contraseña">
                        <input type="password" id="confirmPassword" placeholder="Confirmar Contraseña">
                        <button id="savePassword">Guardar Contraseña</button>
                    </div>
                </div>
                <div class="profile-right">
                    <h3>Tus datos</h3>
                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <input type="text" id="name" value="<%= user.name %>" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="last-name">Apellidos</label>
                        <input type="text" id="last-name" value="<%= user.last_name %>" required>
                    </div>
                    <div class="form-group">
                        <label for="user-name">Nombre de Usuario</label>
                        <input type="text" id="user-name" value="<%= user.username || '' %>" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" value="<%= user.email || '' %>" required>
                    </div>
                    <div class="form-group">
                        <label for="phone-number">Teléfono</label>
                        <input type="text" id="phone-number" value="<%= user.phone || '' %>" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="site-web">Sitio Web personal</label>
                        <input type="text" id="site-web" value="<%= user.website || '' %>" required>
                    </div>
                    <div class="form-group">
                        <label for="about">Sobre mí</label>
                        <textarea id="about" name="about" required><%= user.about_me || '' %></textarea>
                    </div>
                    <h3>Información adicional</h3>
                    <select id="genero">
                        <option value="<%= user.gender || '' %>" selected><%= user.gender || "Género" %></option>
                        <option value="femenino">Femenino</option>
                        <option value="masculino">Masculino</option>
                        <option value="otro">Otro</option>
                    </select>
                    <label for="fechaNacimiento">Fecha de Nacimiento</label>
                        <input type="date" id="fechaNacimiento" value="<%= user.birth_date || '' %>">
                        <input type="text" id="nivelEducativo" value="<%= user.education_level || '' %>" placeholder="Nivel educativo">
                        <select id="trabajando">
                            <option value="<%= user.is_working %>" selected><%= user.is_working ? 'Sí' : 'No' %></option>
                            <option value="si">Sí</option>
                            <option value="no">No</option>
                        </select>
                    <button type="submit" id="submit-btn">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
    <script src="/resources/assets/js/edit_perfil_user.js"></script>
</body>
</html>